<html ng-app="app">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
  <style>
  td{
    padding:0px !important;
  }
  .day_box{
    width:100%;
    height:80px;
    padding:0px 0px;
    text-align:center;
  }
  .date{
    padding:10px 10px;
  }
  .table{
    margin-top:10px;
  }
  .color_box{
    width:15px;
    height:15px;
    border-radius:4px;
  }
  </style>
</head>
<body ng-controller="ctrl">
<br><br>
<div class="container" >
  <!--<div class="col-md-3">
    <div class="well">
        <input type="text" class="form-control" style="width:200px;float:left"><button class="btn btn-primary"><span class="glyphicon glyphicon-plus"></span>Add</button>
    </div>
  </div>--->
  <div class="col-md-12">
<div class="row" ng-init="customDate = false">
  <div class="col-md-6">
  <div class="pull-left">
          <h4 ng-click="customDate=!customDate"><strong>{{showDate}}</strong></h4>
        </div>
        <div class="pull-right" ng-show="customDate">
            <input type="date" ng-model="userDate" class="form-control" style="width:200px;float:left;"><button ng-click="goToDate(userDate)" class="btn btn-primary">Go</button>
        </div>
  </div>

          <div class="col-md-6">
            <!---<button class="btn btn-default" ng-click="previous()"> <span class="glyphicon glyphicon-menu-up"></span></button>
            <button class="btn btn-default" ng-click="next()"> <span class="glyphicon glyphicon-menu-down"></span></button>--->
  <div class="pull-right">
            <nav aria-label="...">
              <ul class="pager">
                <li  ng-click="previous()"><a href="javascript:void(0)"><span class="glyphicon glyphicon-menu-up"></span></a></li>
                <li  ng-click="today()"><a href="javascript:void(0)"><span class="glyphicon glyphicon-map-marker"></span></a></li>
                <li  ng-click="next()"><a href="javascript:void(0)"> <span class="glyphicon glyphicon-menu-down"></span></a></li>
              </ul>
            </nav>
          </div>
        </div>
</div>
<table class="table">
<thead>
<tr>
<th ng-repeat="day in dayList" style="text-align:center;">{{day}}</th>
</tr>
</thead>
<tbody >
    <tr ng-repeat="d in currMonthDates">
      <td><div class="day_box" ng-style="dispColor(d.Sunday)"><strong class="pull-right date">{{d.Sunday.dateNum}}</strong></div></td>
      <td><div class="day_box" ng-style="dispColor(d.Monday)"><strong class="pull-right date">{{d.Monday.dateNum}}</strong></div></td>
      <td><div class="day_box" ng-style="dispColor(d.Tuesday)"><strong class="pull-right date">{{d.Tuesday.dateNum}}</strong></div></td>
      <td><div class="day_box" ng-style="dispColor(d.Wednesday)"><strong class="pull-right date">{{d.Wednesday.dateNum}}</strong></div></td>
      <td><div class="day_box" ng-style="dispColor(d.Thursday)"><strong class="pull-right date">{{d.Thursday.dateNum}}</strong></div></td>
      <td><div class="day_box" ng-style="dispColor(d.Friday)"><strong class="pull-right date">{{d.Friday.dateNum}}</strong></div></td>
      <td><div class="day_box" ng-style="dispColor(d.Saturday)"><strong class="pull-right date">{{d.Saturday.dateNum}}</strong></div></td>
    </tr>
</tbody>
</table>
</div>
</div>
</body>
<script>

var app = angular.module('app', []);
app.controller('ctrl', function($scope) {
  var vm = $scope
vm.dayList = ['Sunday', 'Monday','Tuesday','Wednesday','Thursday','Friday','Saturday']
  vm.monthList = ['January', 'Feburary', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']
  var today = new Date();
  vm.conditionDay = today;
  var dd = today.getDate();
  var mm = today.getMonth();
  var yyyy = today.getFullYear();
  if(dd<10){
  mm='0'+mm;
  }
  vm.showDate = vm.monthList[Number(mm)] +", "+ yyyy;
  vm.previous = function(){
    mm--;
    if(mm<0){
      mm=11
      yyyy--;
    }
    vm.getDaysInMonth(mm, yyyy)
    vm.showDate =  vm.monthList[Number(mm)] +", "+ yyyy;
  }
  vm.today = function(){
    mm=new Date().getMonth();
    yyyy = new Date().getFullYear();
    vm.getDaysInMonth(mm, yyyy)
    vm.showDate =  vm.monthList[Number(mm)]  +", "+ yyyy;
  }
  vm.next = function(){
    mm++;
    if(mm>11){
      mm=0
      yyyy++;
    }
    vm.getDaysInMonth(mm, yyyy)
    vm.showDate =  vm.monthList[Number(mm)]  +", "+ yyyy;
  }
  vm.goToDate = function(_user_date){
    var _usr_in = new Date(_user_date)
    mm=_usr_in.getMonth()
    yyyy=_usr_in.getFullYear();
    vm.showDate =  vm.monthList[Number(mm)] +", "+ yyyy;
    vm.getDaysInMonth(mm, yyyy)
  }
  vm.isToday =function(date){
    if(vm.conditionDay.getDate() == date.getDate()){
      if(vm.conditionDay.getMonth() == date.getMonth()){
        if(vm.conditionDay.getFullYear() == date.getFullYear()){
          return true;
        }
      }
    }
    return vm.conditionDay == date
  }
  vm.hasElements = function(obj){
    var keyCount = false
    if(obj != null || obj != undefined || !angular.equals(obj,{})){
      for(var key in obj){
        keyCount = true;
      }
    }
    return keyCount;
  }
  vm.dispColor = function(today){
    if(vm.hasElements(today)){
        var dispToday = today.date
        if(vm.isToday(dispToday)){
          return {'background':'orange','color':'#fff'}
        }else{
          if(today.day=='Sunday' || today.day == 'Saturday'){
              return {'background':'#eaeaea'}
          }else{
            return {'background':'#fff'}
          }
        }
    }else{
      return {'background':'#fff'}
    }

  }
  vm.getDaysInMonth = function(month, year) {
    console.log(month +" "+ year)
     var date = new Date(year, month, 1);
     var week = {}
     var days = [];
     var count = 0 ;
     while (date.getMonth() === month) {
       if(new Date(date).getDate()==1){
         for(var i = 0 ; i < new Date(date).getDay() ; i++ ){
           week[vm.dayList[new Date(date).getDay()]] = {};
           count++;
         }
       }
        week[vm.dayList[new Date(date).getDay()]]={
                                                    dateNum : new Date(date).getDate(),
                                                    day : vm.dayList[new Date(date).getDay()],
                                                    date: new Date(date)
                                                  };
        date.setDate(date.getDate() + 1);
        count++;
        if(count == 7){
          console.log(week)
          days.push(week)
          week={}
          count = 0
        }
     }
     days.push(week)
     week=[];
     vm.currMonthDates=days;
}
  vm.getDaysInMonth(today.getMonth(), today.getFullYear())
});

</script>
</html>
